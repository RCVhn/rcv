<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Iniciar Sesión - Servicios Mecánicos RCV</title>

  <!-- Fuerza a usar la URL pública de Cloud Run para el API -->
  <meta name="rcv-api" content="https://rcv-api-nulp72qabq-uc.a.run.app/api">

  <!-- Evita cachear credenciales en esta pantalla -->
  <meta http-equiv="Cache-Control" content="no-store" />

  <link rel="stylesheet" href="css/estilos.css" />
</head>
<body class="centered">

  <div class="login-card card">
    <img src="img/logo.png" alt="Logo RCV" class="logo-card" />
    <h1>Servicios Mecánicos RCV</h1>

    <form id="loginForm" novalidate>
      <label for="usuario">Usuario</label>
      <input
        type="text"
        id="usuario"
        name="usuario"
        placeholder="Ingrese su usuario"
        required
        autocomplete="username"
        autocapitalize="off"
        spellcheck="false"
      />

      <label for="password">Contraseña</label>
      <input
        type="password"
        id="password"
        name="password"
        placeholder="Ingrese su contraseña"
        required
        autocomplete="current-password"
        autocapitalize="off"
        spellcheck="false"
      />

      <div class="actions" style="margin-top: 8px;">
        <input type="checkbox" id="mostrarPassword" />
        <label for="mostrarPassword">Mostrar contraseña</label>
      </div>

      <div class="actions" style="margin-top: 12px;">
        <button type="submit" class="btn-primary">Iniciar sesión</button>
      </div>

      <div id="mensajeError" class="error" style="color:red;margin-top:10px;"></div>
    </form>
  </div>

  <!-- Config de API: lee <meta name="rcv-api"> y sincroniza localStorage.API_BASE -->
  <script src="js/env.js"></script>
  <!-- Wrapper de API (AuthAPI, UsuariosAPI, etc.) -->
  <script src="js/api.js"></script>
  <!-- Inicializador opcional (siembra usuarios, etc.) -->
  <script src="js/init-usuarios.js"></script>
  <!-- Lógica de login (separada) -->
  <script src="js/login.js"></script>
</body>
</html>
