/* ===================== PALETA RCV ===================== */
/* Core Variables – Comunes en ambos temas */
:root {
  /* Paleta base del logo RCV */
  --rcv-navy: #0C2340;   /* Azul marino profundo */
  --rcv-blue: #0057B8;   /* Azul corporativo */
  --rcv-sky: #58B6FF;    /* Azul claro/acento */
  --rcv-red: #E10600;    /* Rojo acento secundario */
  --rcv-silver: #E5E7EB; /* Gris claro/bordes */
  --rcv-ink: #0F172A;    /* Texto oscuro */
  --rcv-slate: #64748B;  /* Texto atenuado */

  /* Estados */
  --success: #22c55e;
  --danger: #E10600;
  --warning: #f59e0b;

  /* Tipografía base */
  font-family: 'Inter', system-ui, Arial, sans-serif;
  font-size: clamp(14px, 1.5vw, 16px);
  line-height: 1.5;
  color: var(--text);

  /* Responsividad base */
  --container-max: 1440px;
  --container-gutter: 16px;
}

/* Tema Oscuro por Default */
:root {
  --bg: #0b182e;                 /* Base oscura con tinte azul */
  --card: #101b33;               /* Tarjetas */
  --accent: #58B6FF;             /* Acción primaria */
  --accent-rgb: 88, 182, 255;    /* RGB para rgba en dark */
  --accent-2: #E10600;           /* Acción secundaria (rojo RCV) */
  --muted: #93a0b4;              /* Texto atenuado */
  --text: #e7eefc;               /* Texto principal */
  --text-strong: #ffffff;
  --border: #1b2a4a;             /* Bordes fríos */
  --shadow: 0 8px 28px rgba(11,19,36,0.40);
}

/* Override para Tema Oscuro con Prefers o Attribute */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    --bg: #0b182e;
    --card: #101b33;
    --accent: #58B6FF;
    --accent-rgb: 88, 182, 255;
    --accent-2: #E10600;
    --muted: #93a0b4;
    --text: #e7eefc;
    --text-strong: #ffffff;
    --border: #1b2a4a;
    --shadow: 0 8px 28px rgba(11,19,36,0.40);
  }
}

:root[data-theme="dark"] {
  --bg: #0b182e;
  --card: #101b33;
  --accent: #58B6FF;
  --accent-rgb: 88, 182, 255;
  --accent-2: #E10600;
  --muted: #93a0b4;
  --text: #e7eefc;
  --text-strong: #ffffff;
  --border: #1b2a4a;
  --shadow: 0 8px 28px rgba(11,19,36,0.40);
}

/* Tema Claro con Prefers o Attribute */
@media (prefers-color-scheme: light) {
  :root:not([data-theme="dark"]) {
    --bg: #F2F6FB;                 /* Azul muy claro */
    --card: #ffffff;
    --accent: #0057B8;             /* Azul corporativo */
    --accent-rgb: 0, 87, 184;      /* RGB para rgba en light */
    --accent-2: #58B6FF;           /* Azul claro/acento */
    --muted: #6b7280;
    --text: #0B1220;
    --text-strong: #0f172a;
    --border: #E6EEF8;             /* Borde con tinte azul claro */
    --shadow: 0 6px 18px rgba(15,23,42,0.08);
  }
}

:root[data-theme="light"] {
  --bg: #F2F6FB;
  --card: #ffffff;
  --accent: #0057B8;
  --accent-rgb: 0, 87, 184;
  --accent-2: #58B6FF;
  --muted: #6b7280;
  --text: #0B1220;
  --text-strong: #0f172a;
  --border: #E6EEF8;
  --shadow: 0 6px 18px rgba(15,23,42,0.08);
}

/* ====================================================== */
/* Base Layout y Resets */
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; background: var(--bg); color: var(--text); }
.container { max-width: var(--container-max); margin: 0 auto; padding: 0 var(--container-gutter); }
.centered { min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 16px; }
.card { background: var(--card); padding: 18px; border-radius: 10px; box-shadow: var(--shadow); border: 1px solid var(--border); margin-bottom: 16px; overflow: hidden; }

/* Responsividad para contenedores */
@media (min-width: 1440px) { :root { --container-max: 1600px; } }
@media (max-width: 600px) { :root { --container-gutter: 12px; } }

/* ====================================================== */
/* Tipografía y Elementos Básicos */
h1, h2, h3 { color: var(--text-strong); margin-bottom: 12px; }
h1 { font-size: clamp(24px, 4vw, 32px); text-align: center; }
h2 { font-size: clamp(20px, 3vw, 24px); }
p, label { font-size: clamp(14px, 1.5vw, 16px); color: var(--muted); }
a { color: var(--accent); text-decoration: none; transition: opacity 0.2s; }
a:hover { opacity: 0.8; }

/* Inputs y Forms */
input[type="text"], input[type="password"], input[type="number"], input[type="email"], input[type="tel"],
textarea, select {
  width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 8px; background: transparent; color: var(--text);
  font-size: clamp(14px, 1.5vw, 16px); min-height: 40px; transition: border-color 0.2s;
}
input:focus, textarea:focus, select:focus { border-color: var(--accent); outline: none; }
textarea { resize: vertical; }
label { display: block; margin-bottom: 6px; font-weight: 500; }

/* Forms en Grid (reutilizable para vehiculos, etc.) */
form.grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(0, 1fr)); gap: 12px; }
form.grid-2 .full { grid-column: 1 / -1; }
form.grid-2 .half { grid-column: span 1; }
form.grid-2 .actions { display: flex; gap: 8px; margin-top: 12px; }

/* Responsividad para forms */
@media (max-width: 600px) { form.grid-2 { grid-template-columns: 1fr; } }

/* ====================================================== */
/* Botones (Reutilizables: primary, ghost, danger, etc.) */
.btn { padding: 10px 14px; border-radius: 8px; cursor: pointer; transition: opacity 0.2s, transform 0.2s; font-weight: 500; }
.btn:hover { opacity: 0.95; transform: scale(1.02); }
.btn:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; }
.btn-primary { background: var(--accent); color: #fff; border: none; }
.btn-ghost { background: transparent; border: 1px solid var(--border); color: var(--text); }
.btn-danger { background: var(--danger); color: #fff; border: none; }
.btn[disabled] { opacity: 0.6; cursor: not-allowed; }
.btn-icon { padding: 8px; border-radius: 50%; } /* Para icons como kebab */

/* ====================================================== */
/* Topbar (Con navegación, burger en mobile, logout/theme toggle) */
.topbar { position: sticky; top: 0; z-index: 10; background: var(--card); border-bottom: 1px solid var(--border); box-shadow: var(--shadow); }
.topbar .tb-wrap { display: flex; align-items: center; justify-content: space-between; min-height: 60px; padding: 0 16px; gap: 12px; }
.topbar-left { display: flex; align-items: center; gap: 12px; }
.logo-topbar { height: clamp(32px, 5vw, 48px); object-fit: contain; }
.brand { font-weight: 800; font-size: clamp(18px, 3vw, 24px); color: var(--text-strong); }
.topbar-right { display: flex; align-items: center; gap: 12px; position: relative; }

#btnLogout, #btnThemeToggle { position: absolute; right: 16px; z-index: 12; border-radius: 50%; padding: 8px; background: transparent; border: 1px solid var(--border); }
#btnLogout { top: 10px; }
#btnThemeToggle { bottom: 10px; }
#btnThemeToggle:hover { background: rgba(0,0,0,0.05); }

.topnav { display: flex; gap: 12px; flex: 1; justify-content: center; flex-wrap: wrap; }
.topnav a { padding: 8px 12px; border-radius: 8px; color: var(--text); transition: background 0.2s; }
.topnav a:hover, .topnav a.active { background: var(--accent); color: #fff; }

.tb-burger { display: none; } /* Oculto en desktop */

/* Responsividad para Topbar */
@media (max-width: 1024px) {
  .topnav { display: none; flex-direction: column; position: absolute; top: 100%; left: 0; width: 100%; background: var(--card); border-top: 1px solid var(--border); }
  .topnav.open { display: flex; }
  .tb-burger { display: block; }
  #btnLogout { right: 60px; } /* Evita overlap con burger */
}
@media (max-width: 600px) { .topbar .tb-wrap { min-height: 50px; padding: 0 12px; } }

/* ====================================================== */
/* Tablas (Con zebra, hover, responsive mobile) */
.tabla { width: 100%; border-collapse: collapse; margin-top: 12px; }
.tabla th, .tabla td { padding: 12px; text-align: left; border-bottom: 1px solid var(--border); }
.tabla thead th { background: rgba(0,0,0,0.05); font-weight: 600; }
.tabla tbody tr:nth-child(even) { background: rgba(0,0,0,0.02); }
.tabla tbody tr:hover { background: rgba(var(--accent-rgb), 0.1); }
.tabla .status-pill { padding: 4px 8px; border-radius: 999px; font-size: 12px; font-weight: 600; }
.status-on { background: var(--success); color: #fff; }
.status-off { background: var(--rcv-silver); color: var(--rcv-ink); }

/* Responsive Tabla (stack en mobile) */
@media (max-width: 600px) {
  .tabla thead { display: none; }
  .tabla tr { display: block; margin-bottom: 12px; background: var(--card); border: 1px solid var(--border); border-radius: 8px; padding: 8px; }
  .tabla td { display: block; border: none; }
  .tabla td::before { content: attr(data-label); font-weight: 600; display: block; color: var(--muted); }
}

/* Skeletons para loading */
.skel { position: relative; overflow: hidden; background: rgba(0,0,0,0.05); }
.skel::after { content: ""; position: absolute; inset: 0; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); animation: shimmer 1.5s infinite; }
@keyframes shimmer { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }

/* ====================================================== */
/* Modals (Ventanas Emergentes) */
.modal { position: fixed; inset: 0; display: none; z-index: 100; align-items: center; justify-content: center; background: rgba(0,0,0,0.5); backdrop-filter: blur(4px); }
.modal.open { display: flex; }
.modal__card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 16px; max-width: 90vw; max-height: 80vh; overflow: auto; box-shadow: var(--shadow); }
.modal__header { display: flex; justify-content: space-between; align-items: center; }
.modal__close { background: transparent; border: none; cursor: pointer; font-size: 20px; color: var(--text); }
.modal__body { margin: 12px 0; }
.modal__footer { display: flex; justify-content: flex-end; gap: 8px; }

/* Responsividad para Modals */
@media (max-width: 600px) { .modal__card { width: 95vw; padding: 12px; } }

/* ====================================================== */
/* Drawers (Paneles Laterales) */
.drawer { position: fixed; top: 0; right: 0; height: 100vh; width: clamp(300px, 30vw, 400px); background: var(--card); border-left: 1px solid var(--border); box-shadow: -8px 0 16px rgba(0,0,0,0.2); transform: translateX(100%); transition: transform 0.3s ease; z-index: 50; }
.drawer.open { transform: translateX(0); }
.drawer-header { padding: 12px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; }
.drawer-body { padding: 16px; overflow: auto; flex: 1; }
.drawer-footer { padding: 12px; border-top: 1px solid var(--border); display: flex; justify-content: flex-end; gap: 8px; }
.drawer-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.4); backdrop-filter: blur(2px); z-index: 49; opacity: 0; transition: opacity 0.3s; pointer-events: none; }
.drawer.open + .drawer-overlay { opacity: 1; pointer-events: auto; }

/* Responsividad para Drawers */
@media (max-width: 600px) { .drawer { width: 90vw; } }

/* ====================================================== */
/* Kebab Menu (Botón ⋮ con Dropdown) */
.kebab-btn { background: transparent; border: 1px solid var(--border); border-radius: 999px; padding: 6px 10px; cursor: pointer; font-size: 18px; }
.kebab-btn:hover { background: rgba(var(--accent-rgb), 0.1); }
.kebab-menu { position: absolute; right: 0; background: var(--card); border: 1px solid var(--border); border-radius: 8px; box-shadow: var(--shadow); padding: 8px; min-width: 160px; display: none; }
.kebab-menu.open { display: block; }
.kebab-menu button { width: 100%; text-align: left; background: transparent; border: none; padding: 8px; border-radius: 4px; cursor: pointer; }
.kebab-menu button:hover { background: rgba(var(--accent-rgb), 0.1); }

/* ====================================================== */
/* Toasts (Notificaciones) */
.toast-container { position: fixed; bottom: 16px; right: 16px; display: flex; flex-direction: column; gap: 8px; z-index: 100; }
.toast { min-width: 280px; background: var(--card); border: 1px solid var(--border); border-left: 4px solid var(--accent); border-radius: 8px; padding: 12px; display: flex; align-items: flex-start; gap: 8px; animation: toast-in 0.3s ease; }
.toast-success { border-left-color: var(--success); }
.toast-error { border-left-color: var(--danger); }
.toast-warning { border-left-color: var(--warning); }
.toast-close { margin-left: auto; background: transparent; border: none; cursor: pointer; }
@keyframes toast-in { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

/* ====================================================== */
/* Otros Componentes (Chips, Paginador, etc.) */
.status-pill, .perm-chip { padding: 4px 8px; border-radius: 999px; background: rgba(var(--accent-rgb), 0.1); color: var(--text); font-size: 12px; display: inline-flex; align-items: center; gap: 4px; }
.paginator { display: flex; align-items: center; gap: 8px; margin-top: 12px; }
.paginator .btn { padding: 6px 10px; }
.paginator select { min-width: 80px; }

/* Layouts Generales (e.g., columnas para form + table) */
.layout { display: flex; gap: 16px; flex-wrap: wrap; }
.col-form { flex: 0 0 clamp(300px, 30%, 400px); }
.col-table { flex: 1; overflow-x: auto; }

/* Responsividad para Layouts */
@media (max-width: 1024px) { .layout { flex-direction: column; } }

/* Extras: Tel-WhatsApp, Logos */
.tel-whatsapp { display: flex; align-items: center; gap: 4px; }
.tel-whatsapp a { color: #25D366; }
.logo-card { max-width: 170px; margin: 0 auto 16px; display: block; filter: drop-shadow(0 4px 14px rgba(0,0,0,0.2)); }